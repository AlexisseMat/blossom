language: java
jdk:
- oraclejdk8
sudo: false

env:
  global:
   - secure: "aePdL3gEN7Np0yFSsU+kv10vki8E8eMd2U86hRzo5JsMwP3Y4g9xrXLydakR06kI5G/OhDVxI7RSC0Pbm1g5OSG01SyDxAs0ZxjpLROgIA7g3LYSL3buVHS8x2vKsxMeDiWUjommu2xWO2tHQLOf1Hxi8+PQq6ct+EWnxXTHFfX7ZHvLdE7tLeID+1TypNvNiAGp7bCcrKRgXVyH45Zh7k8CRcYrNTXkfCB7ZDBax3c7RtGXLH20BQIw1Kc68KSwxfldYSG20ON4N4tny5T1sAEOcBepJ7CSFhZGQrbp3rBk+TnYqlHZIlJn5T8Vrwt+c/5TMvK10ytn0PWKQPMrfbBA5xKx2nDn9cjF/m6pBHN0+HhobgQfgssTyVvoYzcUDUu0IJYv9X4wzGc+QZvEfpRsU/F5YjKHJPZQQ/WrxsrGxyfMn/ja2wDeoYPQrML0tk5OVquUOFe/T2FMajmxkaHn9wX/yJCb5LlxH1i4hjM7aBj+AQPzCQQMq+XGnwVfQq84fBIb1joHmr5mYh/5BQMoiPxlga3hJ0excHH4X3IDaamNzPsWvOUNnUQnWr2HdrFOZCviYWM3NoS6pjhj6LMq4poslVPPfx8veNZUUzdXWSYJqY2tl/9+fEV1MDn9NXTzybFPKcZdPhtkexVfO2UEOVnXvK5jXzieqyXqztY="
   - # ^^ OSSRH_JIRA_USERNAME
   - secure: "JJHCDlFWfXaOBvQ00athecnNxT1aykztgpD24Hq2C/lZeuZe3b1BPxf/5hfhx7qdzNkWrDvALrVNXNX819Hqj1WPUZGcsF/8HfUzH0ik1JQRgYauuWl3TeNVGuN7M83N3pIDsb11ANqbNPOWEGyLg5QrduECd7+heEmcS1LiDTFC75pXwZdwGVpZ65q+TdaSA4kDw6Ui5ioWPj9bwSo/ZVWaVwjUumWSwVfddkFPW4n+6lfqEYXWW55KYqVR0LGD4CWgER3vuZDCxFd7Ho8JNmbpM3PybyQAkFPlNa+YEGxPXwiR4PZ1DVzznzZWzAe4Dl3wDL4/h3oJEQwA0q62wG4xHQKHwgX4znmK+Lj2pFVWOksMrWgibguOnaBlEMB7/HJ8FtQ3Rj/WFb/dB4ZIGpsm/S7xSLxigTt3iMOnPfyorjGBGcU/i0Xv7XQs6W1dbuIzwBW2XDxQ+Oe4RIZnQMRci3vKb7ehK5HPjfCiG/9zxd2gKY8NXE1GYRCaqEnDowXMmIAFdHyH+ehyIhC4rv2u3ILSQXmqH4yZOuoVM/aPhRfIGMPM99MKc5s7PzyktaM3GFPLZoaj8/P9m+cojWzJ6tqlcMJ4liR96uW6jHjJ6HNBgQPduuKKhLp+yxTExfEPlw8wcWRXdO8L/7WRBZfHekkdcAIQiRtSJjPqE10="
   - # ^^ OSSRH_JIRA_PASSWORD
   - secure: "pTZXzdQHZ/kBSVKL9jZGPHrQp+wqfOt+l8e0CpFVFJMagnXk9R+88apcVbSw9Tj8wKI6jL7MlY3USKBSSoCg18oZJTAIHTKQMybRH1hZLpn2AGDusQ9+1Y3CMwwKPjBr0iqBbCjzG1NVrUPnmZWstKpLNNdM5RG60PrrNHRDAwRJPLxLSNgoyBBVeLBrTvBkRb4UQ8fnNzusIIF8nX/xeSF9ylOPKgOfZAal4Pjkyreo15EupUilu760phMGuC2749A6ykLXmjKZpPCIWgmApIgkPFaUJkNhnVFVwPRnlU0ImOQvC5iqzYYy660dRg3+JjzGkgBaOX08JB32EZz9mltMYUMgaD2zy9kQIa1W07x4Idk4Yfxn5Wk86uNQuZc6LuidDx23+NFJiNlWmSY1ATuA0dk9mSg1nvZ5X/IoNl3PqqDK9GYj8zRxUhJWa/rnMC3qJ5rim218heoxalFa+5qbNwaJyGWzJItiXcnGh+8CbahbqZEcuVFBsTSaWIaDugKls+6KjHoHRLuaKBpAyd2LmtZhqYMXnA3ICav+djbs1/Hp+ydbgqMcrPYg/S5znyJVnMRIPgD+9sVLe3uaaHNDJGwMulSt+Gepycci8vX/KMRWOA3aX9t482r1RSprXxruKacDSsaa0R2Xa2yjPHtUNDMj8tyQK8asM0IVy+I="
   - # ^^ GPG_KEY_NAME
   - secure: "m1avFILU618AUmEptS0IevpeOfn+qemnZAD0LmlKtxnp6q1Tz6hjRvo76X2h6bo31KJ7CAxLXQFc9j+NrC3HEFBGDCYaiDLsj6LVDmiZUKBxdn8q7/xo/4rYi/PE5nSQETUEv2cHb5Ac9z+QYKEKqpnlj2xDClXRi3BZhtX4Rt1hbzSpduvmm2wQ2RXXsxx5R2EFcz4xjOmbYcquhYWO0GIZjjhqIxJraKKHesRphMsWTFCWIWBqOAo5/M+/K5QWPkMmuXt4GB5VTLrSLu+S6ui0moIGQjV2B3svGBbWNKy2eIqL9ePjHSJtqYKTqDeE/mNIv1/Lsb7w2XnYdi/Wk2msvD8mZo+yvvoAmRZoQbFKQARfFvoBNytuPverysjw22KLMTkWHkVl4hDAmvE675RtjYfxy1T5LU47jt6+ib0DD87uPBkNPk9I2KqXY1z/mzrtm4GYtxKucbkO7rdk4ZUCw81628m8JG5/H68nM+8fsG12qwCZHX8np9m0MolwCeM1Z7Y9hFzIfLcKSGDXBRRAjOEKkmYE1oATFZvLVB2VoIj1F0AF2U3GB3IUHkEOPIdma2F7WXeDAdioeSf5MQ+L7fgxjafMpgwV9Sfc8KR1LAq4cvIAm2pXD1lB8W01xykBHj6bzCygNQqI6NefaCh4lYujdhTVHqax6mv8kLM="
   - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test org.jacoco:jacoco-maven-plugin:report org.eluder.coveralls:coveralls-maven-plugin:report -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
- pushd ./cd
- ./before-deploy.sh
- popd
- ./deploy.sh

notifications:
  slack:
    secure: D+zPCR1CfaOoEt1WkKiZtqhjo7dBDNkd4AHQPuO7McdLGukLTnXrvQORoWQdXxuBOpddf52AOI1D+0sz652rP5cfPJmp/qlEjRsZwhXB40KyMuBJD7eWvMiaCslsRfPu+1PUmFcH3niJyWa4YJ7XOsjhLG2UHsXoUBgdU1LjECfIahqh0X6RDZlPXpSM6XumufdVxurbq4c4fHhxU0NI5FgaNwXygizSLUB/11lzJ+Uk1UDzu650HFqCUpMLGGX9NdVkOOOn1VHFImxqBRwowUWYV4sq3MGCEOxfS62D4m4WlUBh1KdDbzZi4km1A/juNYut1A6UCfumRN0JFTJiTJjnYkTerj//Nfck1BuyK5aHQWmseJJOuetLDyWnrECUgvMgDL7IFnOpH3HIr/h0JEAlcaHWb+CbH/SCvCKjiKp+XZW4J2s9BOLHu+nQLYRirmdXJzRe8ukaBWE51+Av2q1Ny6uZtt2sX4vx6/BZtj+hz7B89MIzIknE3sscK68D4dD8YVUqPYFIWI20szzdtYWa7YA63yJLxXSn/6cb3STe1yyUVAnLmZudOLEFMmE1/v5SlDQQQi1o+KOn6HEf4mmisDnH2NT97bay3JnhBZHZEd9nY839sSCer0Z7m3AADJbLybe3TvjhLIBlcAiHSvo71nCKdWD3i5zptztJY2g=
